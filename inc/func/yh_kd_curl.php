<?php
 goto OQKti; u3kla: class yh_kd_curl extends WeModuleSite { protected $express_recode_att = "\x79\151\x68\145\156\x67\x5f\145\170\x70\162\x65\163\163\x5f\162\x65\143\157\x64\x65\137\x61\x74\x74"; protected $express_ecode = "\x79\x69\150\x65\x6e\x67\137\x65\170\160\162\145\163\x73\x5f\145\143\x6f\144\x65"; public function Get_express_company($LogisticCode, $shop_id = 0) { goto aPRcc; UPQIs: $data_arr = json_decode($data); goto S2moC; HK1nd: Tzyn2: goto Npikf; TeFxC: if (!($i < 17)) { goto IE8LE; } goto L8B23; R4Ntm: XsWKS: goto NnOIM; iWjqI: $kdname = $this->Get_express_company_name($data_arr->auto[0]->comCode, 2); goto qy1sj; zhQD4: update_att_info($kd_arr, $LogisticCode); goto DzmMV; aPRcc: $baseurl = "\x68\x74\164\160\72\x2f\x2f\x77\167\167\56\x6b\x75\141\x69\x64\x69\61\x30\x30\x2e\143\x6f\155\57\x61\165\164\x6f\156\x75\155\142\x65\162\57\141\x75\164\157\103\x6f\x6d\116\x75\x6d\x3f\164\145\x78\164\75"; goto o2H9k; lwgPi: ZJdSA: goto TeFxC; mvh0R: if (!(sizeof($data_auto) == 1)) { goto XsWKS; } goto bc8He; NtbcD: wftzF: goto twvWu; NnOIM: if (!(sizeof($data_auto) > 1)) { goto xAH2z; } goto F4rT9; qy1sj: return $kdname; goto ivXZs; DzmMV: goto yD2xC; goto NtbcD; bijBd: fHUM0: goto Hqn3t; o2H9k: $data = file_get_contents($baseurl . $LogisticCode); goto UPQIs; yj_mZ: yD2xC: goto R4Ntm; erY1J: $cnt = $this->search_att_nu($LogisticCode); goto mvh0R; EN8XF: $this->Get_express_company_name($kd_arr->com, 2); goto BYStg; Ue6Wj: $kd_arr->att_com_ch = $this->Get_express_company_name($kd_arr->com, 2); goto EN8XF; tnrDW: $temp = "\x30\56" . $temp; goto erY1J; twvWu: $this->insert_att_info($kd_arr); goto yj_mZ; D3U2K: $kd_arr = json_decode($kd_json); goto Ue6Wj; o8pDO: IE8LE: goto tnrDW; dU2L1: $i = 1; goto lwgPi; BYStg: $kd_arr->shop_id = $shop_id; goto RPyOe; S2moC: $data_auto = $data_arr->auto; goto dU2L1; L8B23: $temp .= rand(0, 9); goto HK1nd; Onont: goto ZJdSA; goto o8pDO; RPyOe: if (!$cnt) { goto wftzF; } goto zhQD4; Npikf: $i++; goto Onont; Hqn3t: xAH2z: goto iWjqI; bc8He: $kd_json = file_get_contents("\x68\164\164\x70\72\57\x2f\x77\167\167\56\153\x75\141\151\x64\x69\61\60\60\x2e\143\157\x6d\57\161\165\145\162\x79\77\x74\171\160\x65\75" . $data_auto->comCode . "\46\160\x6f\x73\164\x69\x64\75" . $LogisticCode . "\x26\x74\145\x6d\160\75" . $temp); goto D3U2K; F4rT9: foreach ($data_auto as $key => $value) { goto TutWW; TutWW: $kd_json = file_get_contents("\150\164\164\160\72\57\x2f\x77\x77\x77\56\x6b\x75\x61\x69\144\x69\x31\60\x30\56\143\157\155\x2f\x71\x75\x65\x72\171\77\x74\171\x70\145\75" . $value->comCode . "\46\160\x6f\163\164\x69\144\75" . $LogisticCode . "\46\164\x65\155\160\x3d" . $temp); goto xksQr; r317j: goto fHUM0; goto mDPjJ; bqetJ: zEw4y: goto oxgbm; qQ0cd: hRCYl: goto BIH09; fwohS: $kd_arr->shop_id = $shop_id; goto ir6oj; rwicz: $this->update_att_info($kd_arr, $LogisticCode); goto RsM8h; XkZpK: if (!($kd_arr->status == 200)) { goto C63sS; } goto SdJIU; xksQr: $kd_arr = json_decode($kd_json); goto XkZpK; oxgbm: $this->insert_att_info($kd_arr); goto md7sz; RsM8h: goto Ez2oW; goto bqetJ; SdJIU: $kd_arr->att_com_ch = $this->Get_express_company_name($kd_arr->com, 2); goto fwohS; ir6oj: if (!$cnt) { goto zEw4y; } goto rwicz; md7sz: Ez2oW: goto r317j; mDPjJ: C63sS: goto qQ0cd; BIH09: } goto bijBd; ivXZs: } public function insert_att_info($kd_arr) { goto JBGyT; FdtPN: $json_data = json_encode($kd_arr->data, JSON_UNESCAPED_UNICODE); goto yU78N; zo2OG: $result = pdo_insert($this->express_recode_att, $data); goto HGVqR; JBGyT: global $_W; goto FdtPN; yU78N: $data = array("\x75\156\x69\x61\x63\x69\x64" => $_W["\165\156\151\141\143\151\144"], "\x61\x74\x74\x5f\155\145\163\163\141\x67\x65" => $kd_arr->message, "\141\164\x74\x5f\x69\163\x63\150\145\143\x6b" => $kd_arr->ischeck, "\141\164\164\137\143\x6f\156\x64\x69\x74\x69\157\156" => $kd_arr->condition, "\x61\x74\164\x5f\x63\157\155" => $kd_arr->com, "\141\x74\x74\137\x63\x6f\x6d\137\143\x68" => $kd_arr->att_com_ch, "\141\x74\x74\x5f\x73\164\x61\x74\x75\163" => $kd_arr->status, "\x61\x74\x74\137\163\x74\x61\164\145" => $kd_arr->state, "\x61\x74\x74\137\x64\x61\x74\141" => $json_data, "\x61\164\164\x5f\x6e\165" => $kd_arr->nu, "\141\x74\x74\x5f\x73\150\157\x70\137\x69\x64" => $kd_arr->shop_id, "\x61\164\164\137\x63\x72\x61\164\145\164\151\x6d\x65" => time(), "\x61\x74\x74\x5f\151\160" => $_W["\x63\154\151\145\x6e\164\x69\160"]); goto zo2OG; HGVqR: } public function update_att_info($kd_arr, $att_nu) { goto twSL9; AjyG_: $json_data = json_encode($kd_arr->data, JSON_UNESCAPED_UNICODE); goto EOlag; twSL9: global $_W; goto AjyG_; yvKVv: $result = pdo_update($this->express_recode_att, $data, array("\141\164\164\137\x6e\x75\40\154\x69\153\145" => $att_nu)); goto TzVa7; EOlag: $data = array("\141\164\x74\x5f\x6e\x75" => $kd_arr->nu, "\141\x74\164\137\x6d\x65\x73\163\x61\147\x65" => $kd_arr->message, "\141\x74\x74\137\x69\x73\143\150\145\143\153" => $kd_arr->ischeck, "\141\x74\164\x5f\x63\x6f\x6e\x64\151\x74\x69\157\x6e" => $kd_arr->condition, "\141\x74\164\x5f\143\157\155" => $kd_arr->com, "\141\x74\164\x5f\x63\x6f\155\x5f\x63\150" => $kd_arr->att_com_ch, "\x61\164\164\137\163\x74\x61\164\x75\x73" => $kd_arr->status, "\x61\164\164\x5f\163\164\141\x74\145" => $kd_arr->state, "\x61\164\x74\137\144\141\x74\x61" => $json_data, "\141\164\164\x5f\x69\x70" => $_W["\x63\154\x69\145\x6e\164\151\160"]); goto yvKVv; TzVa7: } public function search_att_nu($nu) { goto FddZr; Kuhw3: $params = array("\165\156\x69\x61\x63\151\144" => $_W["\x75\x6e\151\x61\x63\x69\x64"], "\141\x74\164\x5f\156\165" => $nu); goto Uhwce; EWhwX: $item = pdo_fetch($sql, $params); goto zxuQu; Uhwce: $condition = "\x20\x77\150\145\x72\145\x20\x75\x6e\x69\141\143\x69\144\x20\x3d\x3a\x75\156\x69\141\x63\x69\x64\x20\141\x6e\144\40\x61\164\x74\137\156\165\40\x3d\72\141\164\x74\137\156\x75"; goto r9apk; r9apk: $select = "\x2a"; goto Qul59; FddZr: global $_W; goto Kuhw3; zxuQu: return $item["\143\x6e\x74"]; goto TLITL; Qul59: $sql = "\x53\x45\114\105\x43\124\40\x63\x6f\x75\x6e\x74\50\52\x29\40\141\163\x20\x63\156\x74\x20\x20\146\x72\x6f\x6d\x20" . tablename($this->express_recode_att) . $condition; goto EWhwX; TLITL: } public function Get_express_company_name($ename, $kd_type) { goto bfnsI; ZeD80: $item = pdo_fetch($sql, $params); goto DkJTr; SnXPT: $sql = "\x53\x45\x4c\x45\x43\124\40{$select}\x20\x20\x20\146\x72\x6f\155\x20" . tablename($this->express_ecode) . $condition; goto ZeD80; Ftgb2: $condition = "\x20\x77\150\x65\x72\145\x20\x65\x63\157\144\x65\x5f\x63\157\x6d\103\157\x64\145\x20\x3d\x3a\145\x63\157\x64\145\x5f\143\157\155\103\x6f\144\145\x20\141\x6e\144\40\x65\143\x6f\x64\145\137\143\x6f\x6d\x20\x3d\72\x65\x63\x6f\x64\x65\137\x63\x6f\155"; goto WOMTv; DkJTr: return $item["\x65\x63\157\x64\145\x5f\156\141\x6d\x65"]; goto xlViz; WOMTv: $select = "\x2a"; goto SnXPT; bfnsI: global $_W; goto hB9AY; hB9AY: $params = array("\145\143\x6f\144\x65\137\143\157\x6d\x43\x6f\x64\145" => $ename, "\x65\143\157\144\145\137\x63\157\155" => $kd_type); goto Ftgb2; xlViz: } } goto reb22; OQKti: defined("\x49\x4e\x5f\x49\101") or die("\101\x63\x63\145\163\163\40\104\145\x6e\x69\x65\x64"); goto u3kla; reb22: ?>